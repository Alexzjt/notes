# ABA问题

CAS ---- unsafe -----CAS底层思想-------ABA问题------原子引用更新------如何规避ABA问题

CAS会导致ABA问题

CAS算法实现的一个重要前提需要取出内存中某时刻的数据并在当下时刻比较并替换，那么在这个时间差会导致数据的变化。

比如一个线程one会从内存位置V中取出A，线程two也取出A，线程two进行操作将A变为B再变为A。之后线程one再进行CAS操作发现内存中仍然是A，然后线程one操作成功。

尽管操作成功，但是不代表这个过程是没有问题的。

##### AtomicReference<V>

可以对任意类型实现原子化操作

##### AtomicStampedReference

通过加版本号解决ABA问题