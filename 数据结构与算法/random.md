# Random

二进制思想

#### 给一个函数f，可以从1~5的数字等概率返回一个，加工出返回1~7的函数

先将1~5转换为0~1，例如1~2返回0，3~4返回1，5重新roll

1~7可以转换为0~6，**主要看这个范围需要几个二进制位数表示**。

一个二进制位表示0~1，两个表示0~3，三个表示0~7。

所以此处需要3个二进制位。

roll 三次，依次左移2位，1位，0位。最终得到0~7。

如果是7则重新roll，如果是0~6则+1返回。

#### 给一个函数f，可以从a~b的数字等概率返回一个，加工出返回c~d的函数

先把f加工为等概率的0~1的发生器函数。

考虑c~d需要多少个二进制位。同上。

#### 给一个函数f，以p概率返回0，以1-p概率返回1，加工出等概率返回0和1的函数

roll 两次。

00 或11 重新roll。

10和01的概率都是 p*(1-p)